{"version":3,"sources":["lib/api.js","components/Form.js","components/Home.js","components/Nav.js","components/Estimate.js","App.js","index.js"],"names":["baseUrl","headers","Authorization","createFootprint","formData","axios","post","Form","history","useHistory","React","useState","isError","setIsError","type","weight_value","weight_unit","distance_value","distance_unit","transport_method","setFormData","handleChange","e","target","name","parseFloat","value","toLowerCase","handleSubmit","a","preventDefault","res","push","data","id","className","onSubmit","onChange","placeholder","Home","to","src","alt","Nav","Results","estimate","setEstimate","useEffect","get","console","log","getData","length","attributes","carbon_g","carbon_kg","carbon_lb","carbon_mt","Math","ceil","href","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4fca836c.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = 'https://www.carboninterface.com/api/v1'\nconst apiKey = 'PoRJbKaz5sWFZKcKRNaw'\n\nfunction headers() {\n  return {\n    headers: { Authorization: `Bearer ${apiKey}` },\n  }\n}\n\nexport function createFootprint(formData) {\n  return axios.post(`${baseUrl}/estimates`,formData ,headers())\n}\n\nexport function displayFootprint() {\n  return axios.get(`${baseUrl}/estimates` ,headers())\n}","import React from 'react'\nimport { useHistory } from 'react-router'\nimport { createFootprint } from '../lib/api'\n\nfunction Form() {\n  const history = useHistory()\n  const [isError, setIsError] = React.useState(false)\n  const [formData, setFormData] = React.useState({\n    type: '',\n    weight_value: 0,\n    weight_unit: '',\n    distance_value: 0,\n    distance_unit: '',\n    transport_method: '',\n  })\n\n  const handleChange = (e) => {\n    if (e.target.name === 'weight_value' || e.target.name === 'distance_value') {\n      setFormData({ ...formData, [e.target.name]: parseFloat(e.target.value) })\n    } else {\n      setFormData({ ...formData, [e.target.name]: e.target.value.toLowerCase() })\n    }\n  }\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n\n    try {\n      const res = await createFootprint(formData)\n      history.push(`/estimates/${res.data.data.id}`)\n    } catch (error) {\n      setIsError(true)\n    }\n  }\n  \n  return (\n    <section className=\"hero is-fullheight-with-navbar is-success\">\n      <section className=\"section\">\n        <h1 className=\"subtitle\">Please fill in the requred fields</h1>\n        <form className=\"column is-half is-offset-one-quarter\" onSubmit={handleSubmit}>\n          <label className=\"label\">Type</label>\n          <div className=\"select\">\n            <select name=\"type\" onChange={handleChange}>\n              <option> </option>\n              <option>Shipping</option>\n            </select>\n          </div>\n          {isError && (\n            <p className=\"help is-danger\">\n                * Type required\n            </p>\n          )}\n          <div className=\"field\">\n            <label className=\"label\">Weight Value</label>\n            <div className=\"control\">\n              <input \n                className=\"input\"\n                placeholder=\"Weight Value\"\n                name=\"weight_value\"\n                type=\"number\"\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n          {isError && (\n            <p className=\"help is-danger\">\n                * Weight value required\n            </p>\n          )}\n          <label className=\"label\">Weight Unit</label>\n          <div className=\"select\">\n            <select name=\"weight_unit\" onChange={handleChange}>\n              <option> </option>\n              <option>g</option>\n              <option>lb</option>\n              <option>kg</option>\n              <option>mt</option>\n            </select>\n          </div>\n          {isError && (\n            <p className=\"help is-danger\">\n                * Weight unit required\n            </p>\n          )}\n          <div className=\"field\">\n            <label className=\"label\">Distance Value</label>\n            <div className=\"control\">\n              <input \n                className=\"input\"\n                placeholder=\"Distance Value\"\n                name=\"distance_value\"\n                type=\"number\"\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n          {isError && (\n            <p className=\"help is-danger\">\n                * Distance value required\n            </p>\n          )}\n          <label className=\"label\">Distance Unit</label>\n          <div className=\"select\">\n            <select name=\"distance_unit\" onChange={handleChange}>\n              <option> </option>\n              <option>mi</option>\n              <option>km</option>\n            </select>\n          </div>\n          {isError && (\n            <p className=\"help is-danger\">\n                * Distance unit required\n            </p>\n          )}\n          <div className=\"field\">\n            <label className=\"label\">Transport Method</label>\n            <div className=\"select\">\n              <select name=\"transport_method\" onChange={handleChange}>\n                <option> </option>\n                <option>Ship</option>\n                <option>Train</option>\n                <option>Truck</option>\n                <option>Plane</option>\n              </select>\n            </div>\n          </div>\n          {isError && (\n            <p className=\"help is-danger\">\n                * Transportation method required\n            </p>\n          )}\n          <div className=\"field\">\n            <p className=\"control\">\n              <button className=\"button is-primary is-light is-rounded\" type=\"submit\">\n                Calculate\n              </button>\n            </p>\n          </div>\n        </form>\n      </section>\n    </section>\n  )\n}\n\nexport default Form","import { Link } from 'react-router-dom'\n\nfunction Home() {\n  return (\n    <>\n      <section className=\"hero is-success is-light is-fullheight-with-navbar\">\n        <div className=\"hero-body\">\n          <p className=\"title is-success\">\n            About\n          </p>\n          <p className=\"subtitle\">\n            The way we shop has changed dramatically over the past decade, even more so over the last year\n            as our lives have moved exlusively online.\n          </p>\n          <p className=\"subtitle\">\n            Whilst we have easily adapted to this change, our planet has not!\n          </p>\n          <p className=\"subtitle\">\n            Use our handy calulator to estimate the true environmental impact of that constant stream of packages arriving\n            at your door, and choose to donate to one of our partner charities and help take care of our planet.\n          </p>\n          <Link to=\"/form\">\n            <button className=\"button is-primary is-light is-rounded is-focused is-fullwidth\">Estimate</button>\n          </Link>\n        </div>\n        <div>\n          <img className=\"co2\" src=\"https://i.imgur.com/E1M4mLu.png\" alt=\"logo\"/>\n        </div>\n      </section>\n    </>\n  )\n}\n\nexport default Home","import { Link } from 'react-router-dom'\n\nfunction Nav() {\n  return (\n    <nav className=\"navbar is-primary\">\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n          <Link to=\"/\" className=\"navbar-item\">\n            Home\n          </Link>\n          <Link to=\"/form\" className=\"navbar-item\">\n            Calculate my Footprint\n          </Link>\n        </div>\n      </div>\n    </nav>\n  )\n}\n\nexport default Nav","import React from 'react'\nimport { displayFootprint } from '../lib/api'\n\nfunction Results() {\n  const [estimate, setEstimate] = React.useState(null)\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        const res = await displayFootprint()\n        setEstimate(res.data)\n      } catch (error) {\n        console.log(error)\n      }\n    }\n    getData()\n  }, [])\n\n  return (\n    <>\n      {estimate &&\n      <section className=\"hero is-fullheight-with-navbar is-sucess\">\n        <section className=\"resultsSection\" key={estimate[0].data.id}>\n          <section className=\"section\">\n            <img className=\"co2\" src=\"https://i.imgur.com/E1M4mLu.png\" alt=\"logo\"/>\n            <h1>Your carbon footprint for this shipping would be:</h1>\n            <h2>\n              {estimate[estimate.length - 1].data.attributes.carbon_g}g\n            </h2>\n            <h2>\n              {estimate[estimate.length - 1].data.attributes.carbon_kg}kg\n            </h2>\n            <h2>\n              {estimate[estimate.length - 1].data.attributes.carbon_lb}lb\n            </h2>\n            <h2>\n              {estimate[estimate.length - 1].data.attributes.carbon_mt}mt\n            </h2>\n            <strong>\n              The total cost to offset this would be £{Math.ceil(estimate[estimate.length - 1].data.attributes.carbon_g * 0.000007)}\n            </strong>\n          </section>\n          <div className=\"bottomTwo\">\n            <section className=\"section\">\n              <img className=\"co2\" src=\"https://cdn.shopify.com/s/files/1/0502/7010/9865/files/Copy_of_Untitled_4_190x.png?v=1605188060\"/>\n              <p className=\"charityInfo\">Carbon Neutral Britain is the UK&apos;s leading Carbon Offsetting Initiative - allowing individuals and businesses to offset their carbon emissions.</p>\n              <p>Become carbon neutral for £6.99 month</p>\n              <a className=\"donateLink\" href=\"https://carbonneutralbritain.org/products/become-carbon-neutral?variant=37544813428905&selling_plan=12419241\"><strong>Donate</strong></a>\n            </section>\n            <section className=\"section\">\n              <img className=\"co2\" src=\"https://cornwallinnovation.co.uk/wp-content/uploads/2019/12/Cool-Earth-logo-scaled-e1575539011735.jpg\"/>\n              <p className=\"charityInfo\">Cool Earth&apos;s vision is a world where tropical deforestation and degredation has no role in climate change.</p>\n              <p>By supporting Cool Earth, you are protecting the rainforest, improving lives and helping to tackle the climate crisis</p>\n              <a className=\"donateLink\" href=\"https://www.coolearth.org/get-involved/donate-cool-earth/\"><strong>Donate</strong></a>\n            </section>\n          </div>\n          \n        </section>\n      </section>\n      }\n    </>\n  )\n}\n\nexport default Results","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport Form from './components/Form'\nimport Home from './components/Home'\nimport Nav from './components/Nav'\nimport Results from './components/Estimate'\n\nfunction App() {\n  return (\n    <Router>\n\n      <Nav />\n\n      <Switch>\n        <Route exact path=\"/\" component={Home}/>\n        <Route path=\"/form\" component={Form}/>\n        <Route path=\"/estimates/:id\" component={Results}/>\n      </Switch>\n    </Router>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './styles/main.scss'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}